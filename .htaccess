# Configuración mínima compatible con GoDaddy
DirectoryIndex index.php index.html

# UTF-8 básico (compatible con hosting compartido)
AddDefaultCharset UTF-8

# Seguridad básica
<Files ".git*">
    Order allow,deny
    Deny from all
</Files>

# Bloquear acceso a archivos sensibles del proyecto
<Files "*.sql">
    Order allow,deny
    Deny from all
</Files>

<Files "update_passwords.php">
    Order allow,deny
    Deny from all
</Files>

<Files "cleanup_users_table.sql">
    Order allow,deny
    Deny from all
</Files>

# Proteger directorio config
<FilesMatch "^(config)/">
    Order allow,deny
    Deny from all
</FilesMatch>

# Proteger archivos de respaldo y temporales
<FilesMatch "\.(bak|log|tmp|temp)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Proteger directorio uploads (solo permitir desde PHP)
<FilesMatch "^uploads/">
    Order allow,deny
    Allow from all
</FilesMatch>

# Rutas limpias para sistema de tickets
RewriteEngine On
RewriteBase /

# Ruta: /tickets/create
RewriteRule ^tickets/create$ views/tickets/ticketCreate.php [L]

# Ruta: /tickets/list
RewriteRule ^tickets/list$ views/tickets/ticketList.php [L]

# Ruta: /tickets/store (POST)
RewriteCond %{REQUEST_METHOD} POST
RewriteRule ^tickets/store$ controllers/TicketController.php?action=store [L]